(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a.n(r),i=a(9),s=a.n(i),o=a(10),d=a(2),u=a.n(d),l=a(3),p=a(4),g=a(5),m=a(7),f=a(6),j="Main Page",b="Statistics",C="Admin Page categories",h="statistics",v="train",x="play",O="notRunning",y="running",_="finished",N="rightGuessed",S="errors",w="trainings",k=["Category","Word","Translation","Trained(n)","Errors(n)","Correct(n)","Correct(%)"],A=["category","word","translation","trainings","errors","rightGuessed","percentGuessed"],R=(a(16),a(17),a(0)),M={category:"Category",categoryImage:"./default-category-image.jpg",cards:[]},I={word:"",translation:"",image:"./default-card-image.jpg",audioSrc:"./default-card-audio.mp3"},P=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).categoryNameRef=void 0,n.cardWordRef=void 0,n.cardTranslationRef=void 0,n.audio=new Audio,n.playAudio=function(e){n.audio.currentTime=0,n.audio.src=e,n.audio.play()},n.setUpdatingCardIndex=function(e){n.disableCardCreatingState(),n.setState({updatingCardIndex:e})},n.resetUpdatingCardIndex=function(){n.setState({updatingCardIndex:-1})},n.enableCardCreatingState=function(){n.resetUpdatingCardIndex(),n.setState({isCreateCardMode:!0})},n.disableCardCreatingState=function(){n.setState({isCreateCardMode:!1})},n.resetAllEditingCardsState=function(){n.resetUpdatingCardIndex(),n.disableCardCreatingState()},n.createCategoryCard=function(){var e,t=n.props.onCreateCategory,a=null===(e=n.categoryNameRef.current)||void 0===e?void 0:e.value,r=M;r.category=a||"New Category",n.resetAllEditingCardsState(),t(r)},n.updateCategoryCard=function(e){var t,a=n.props.onUpdateCategory,r={category:(null===(t=n.categoryNameRef.current)||void 0===t?void 0:t.value)||e.name,categoryImage:e.image};n.resetAllEditingCardsState(),a(e.name,r)},n.deleteCategoryCard=function(e){var t=n.props.onDeleteCategory;n.resetAllEditingCardsState(),t(e.name)},n.createWordCard=function(){var e,t,a=n.props.onCreateWord,r=n.state.activeCategory,c=null===(e=n.cardWordRef.current)||void 0===e?void 0:e.value,i=null===(t=n.cardTranslationRef.current)||void 0===t?void 0:t.value,s=I;s.word=c||"Word",s.translation=i||"C\u043b\u043e\u0432\u043e",n.resetAllEditingCardsState(),a(r,s)},n.updateWordCard=function(e){n.resetAllEditingCardsState(),console.log("update card",e.word)},n.deleteWordCard=function(e){var t=n.state.activeCategory,a=n.props.onDeleteWord;n.resetAllEditingCardsState(),a(t,e.word)},n.getRoutePage=function(e){var t=n.props,a=t.categories,r=t.cards;return e?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"page-title",children:"Admin Page - ".concat(e," category words")}),Object(R.jsx)("a",{className:"admin-page__btn categories-route-btn",href:"#/".concat(C),onClick:function(){n.setActiveCategory()},type:"button",children:"back to categories"}),Object(R.jsxs)("ul",{className:"admin-page__container cards-page-container",children:[r[e].map((function(e,t){return n.renderWordCard(e,t)})),n.renderWordCardCreateBtn()]})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"page-title",children:"Admin Page - categories"}),Object(R.jsxs)("ul",{className:"admin-page__container cards-page-container",children:[a.map((function(e,t){return n.renderCategoryCard(e,t)})),n.renderCategoryCardCreateBtn()]})]})},n.setActiveCategory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.resetAllEditingCardsState(),n.setState({activeCategory:e})},n.renderCategoryCard=function(e,t){var a=n.state.updatingCardIndex;return Object(R.jsx)("li",{className:"admin-page__card-container card-container",children:Object(R.jsx)("div",{className:"admin-page__card card",children:a===t?n.renderCategoryCardBack(e):n.renderCategoryCardFront(e,t)})},e.name)},n.renderCategoryCardCreateBtn=function(){var e=n.state.isCreateCardMode;return Object(R.jsx)("li",{className:"admin-page__card-container card-container",children:Object(R.jsx)("div",{className:"admin-page__card card",children:e?n.renderCategoryCardBack():Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"admin-page__input-tip",children:"Create New Category"}),Object(R.jsx)("button",{className:"admin-page__btn add-category-btn",onClick:n.enableCardCreatingState,type:"button",children:"+"})]})})},"create")},n.renderCategoryCardFront=function(e,t){var a=n.props.cards;return Object(R.jsxs)("div",{className:"admin-page__card-front card-front",children:[Object(R.jsx)("button",{className:"admin-page__delete-btn",onClick:function(){return n.deleteCategoryCard(e)},type:"button","aria-label":"delete"}),Object(R.jsx)("h4",{className:"admin-page__card-title card-title",children:e.name}),Object(R.jsxs)("div",{className:"admin-page__card-text",children:["Words:",Object(R.jsx)("div",{className:"admin-page__card-text card-data-value",children:a[e.name].length})]}),Object(R.jsxs)("div",{className:"admin-page__btn-container",children:[Object(R.jsx)("button",{className:"admin-page__btn update-btn",onClick:function(){return n.setUpdatingCardIndex(t)},type:"button",children:"update"}),Object(R.jsx)("a",{className:"admin-page__btn words-route-btn",href:"#/".concat(C,"/").concat(e.name," words"),onClick:function(){return n.setActiveCategory(e.name)},type:"button",children:"add word"})]})]})},n.renderCategoryCardBack=function(e){return Object(R.jsxs)("div",{className:"admin-page__card-back card-back",children:[Object(R.jsx)("div",{className:"admin-page__input-tip",children:"Category Name"}),Object(R.jsx)("input",{type:"text",className:"admin-page__input",placeholder:"category name",defaultValue:(null===e||void 0===e?void 0:e.name)||"",autoComplete:"off",ref:n.categoryNameRef}),Object(R.jsxs)("div",{className:"admin-page__btn-container",children:[Object(R.jsx)("button",{className:"admin-page__btn cancel-btn",onClick:n.resetAllEditingCardsState,type:"button",children:"cancel"}),Object(R.jsx)("button",{className:"admin-page__btn submit-btn",onClick:function(){return e?n.updateCategoryCard(e):n.createCategoryCard()},type:"button",children:"save"})]})]})},n.renderWordCard=function(e,t){var a=n.state.updatingCardIndex;return Object(R.jsx)("li",{className:"admin-page__card-container card-container admin-page__card-container--words",children:Object(R.jsx)("form",{className:"admin-page__card card",children:a===t?n.renderWordCardBack(e):n.renderWordCardFront(e,t)})},e.word)},n.renderWordCardCreateBtn=function(){var e=n.state.isCreateCardMode;return Object(R.jsx)("li",{className:"admin-page__card-container card-container admin-page__card-container--words",children:Object(R.jsx)("div",{className:"admin-page__card card",children:e?n.renderWordCardBack():Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"admin-page__input-tip",children:"Add New Word"}),Object(R.jsx)("button",{className:"admin-page__btn add-word-btn",onClick:n.enableCardCreatingState,type:"button",children:"+"})]})})},"create")},n.renderWordCardFront=function(e,t){return Object(R.jsxs)("div",{className:"admin-page__card-front card-front",children:[Object(R.jsx)("button",{className:"admin-page__delete-btn",onClick:function(){return n.deleteWordCard(e)},type:"button","aria-label":"delete"}),Object(R.jsxs)("div",{className:"admin-page__card-text admin-page__card-text--words",children:["Word:",Object(R.jsx)("div",{className:"admin-page__card-text card-data-value",children:e.word})]}),Object(R.jsxs)("div",{className:"admin-page__card-text admin-page__card-text--words",children:["Translation:",Object(R.jsx)("div",{className:"admin-page__card-text card-data-value",children:e.translation})]}),Object(R.jsxs)("div",{className:"admin-page__card-text admin-page__card-text--words",children:["Audio:",Object(R.jsx)("div",{className:"admin-page__card-text card-data-value",children:e.audioSrc})]}),Object(R.jsx)("button",{onClick:function(){return n.playAudio(e.audioSrc)},type:"button",children:"play audio"}),Object(R.jsx)("div",{className:"admin-page__card-text admin-page__card-text--words",children:"Image:"}),Object(R.jsx)("div",{className:"admin-page__image",style:{backgroundImage:"url(".concat(e.image,")")}}),Object(R.jsx)("button",{className:"admin-page__btn update-btn--words",onClick:function(){return n.setUpdatingCardIndex(t)},type:"button",children:"update"})]})},n.renderWordCardBack=function(e){return Object(R.jsxs)("div",{className:"admin-page__card-back card-back",children:[Object(R.jsx)("div",{children:Object(R.jsxs)("label",{htmlFor:"audio",className:"admin-page__input-tip",children:["Word:",Object(R.jsx)("input",{type:"text",className:"admin-page__input",placeholder:"word",defaultValue:(null===e||void 0===e?void 0:e.word)||"",autoComplete:"off",ref:n.cardWordRef})]})}),Object(R.jsx)("div",{children:Object(R.jsxs)("label",{htmlFor:"audio",className:"admin-page__input-tip",children:["Translation:",Object(R.jsx)("input",{type:"text",className:"admin-page__input",placeholder:"translate",defaultValue:(null===e||void 0===e?void 0:e.translation)||"",autoComplete:"off",ref:n.cardTranslationRef})]})}),Object(R.jsx)("div",{className:"admin-page__file-input",children:Object(R.jsxs)("label",{htmlFor:"audio",children:["Audio file:",Object(R.jsx)("input",{type:"file",id:"audio",name:"audio",className:"card-data-value"})]})}),Object(R.jsx)("div",{className:"admin-page__file-input",children:Object(R.jsxs)("label",{htmlFor:"image",children:["Image file:",Object(R.jsx)("input",{type:"file",id:"image",name:"image",className:"card-data-value"})]})}),Object(R.jsxs)("div",{className:"admin-page__btn-container",children:[Object(R.jsx)("button",{className:"admin-page__btn cancel-btn",onClick:n.resetAllEditingCardsState,type:"button",children:"cancel"}),Object(R.jsx)("button",{className:"admin-page__btn submit-btn",onClick:function(){return e?n.updateWordCard(e):n.createWordCard()},type:"submit",children:"save"})]})]})},n.renderAdminHeader=function(){var e=n.props.disableAdminMode,t=n.state.activeCategory;return Object(R.jsx)("header",{className:"admin-header header",children:Object(R.jsxs)("div",{className:"admin-header__container header__container",children:[Object(R.jsxs)("div",{className:"admin-header__link-container",children:[Object(R.jsx)("a",{className:"admin-header__link ".concat(t?"":"active"),href:"#/".concat(C),onClick:function(){n.setActiveCategory()},type:"button",children:"Categories"}),Object(R.jsx)("div",{className:"admin-header__link ".concat(t?"active":""),children:"Words"})]}),Object(R.jsx)("a",{className:"admin-header__link log-out-btn",href:"#/".concat(j),onClick:function(){return e()},children:"Log out"})]})})},n.categoryNameRef=c.a.createRef(),n.cardWordRef=c.a.createRef(),n.cardTranslationRef=c.a.createRef(),n.state={updatingCardIndex:-1,isCreateCardMode:!1,activeCategory:""},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this.state.activeCategory;return Object(R.jsxs)(R.Fragment,{children:[this.renderAdminHeader(),e?this.getRoutePage(e):this.getRoutePage()]})}}]),a}(r.Component),E=(a(19),["title","titleId"]);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function T(e,t){var a=e.title,c=e.titleId,i=W(e,E);return r.createElement("svg",L({id:"svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:400,height:400,viewBox:"0, 0, 400,400",ref:t,"aria-labelledby":c},i),a?r.createElement("title",{id:c},a):null,n||(n=r.createElement("g",{id:"svgg"},r.createElement("path",{id:"path0",d:"M149.333 106.849 C -33.313 127.384,-41.223 252.474,138.667 275.531 C 146.978 276.596,157.155 277.883,161.284 278.391 L 168.790 279.314 169.284 303.117 L 169.778 326.920 214.222 292.359 C 238.667 273.351,258.667 256.989,258.667 256.000 C 258.667 255.011,238.667 238.649,214.222 219.641 L 169.778 185.080 169.280 208.294 L 168.783 231.508 158.614 230.340 C 114.170 225.237,73.024 211.579,59.659 197.495 L 54.430 191.983 60.245 185.983 C 103.148 141.719,300.841 141.956,339.792 186.318 L 345.150 192.421 340.131 197.714 C 334.182 203.985,316.718 213.058,300.000 218.562 L 288.000 222.512 288.000 246.565 L 288.000 270.618 294.624 269.375 C 380.118 253.336,418.057 192.558,369.823 148.909 C 332.872 115.470,236.377 97.063,149.333 106.849 ",stroke:"none",fill:"#00000080",fillRule:"evenodd"}))))}var F,G,B,D,U=r.forwardRef(T),H=(a.p,["title","titleId"]);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function J(e,t){var a=e.title,n=e.titleId,c=z(e,H);return r.createElement("svg",V({width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),a?r.createElement("title",{id:n},a):null,F||(F=r.createElement("path",{d:"M24.9996 43.9222C24.6878 43.922 24.3873 43.8052 24.1571 43.5947L12.0146 32.4997H7.32715C6.99563 32.4997 6.67769 32.368 6.44326 32.1336C6.20884 31.8992 6.07715 31.5812 6.07715 31.2497V18.7497C6.07715 18.4182 6.20884 18.1002 6.44326 17.8658C6.67769 17.6314 6.99563 17.4997 7.32715 17.4997H12.0146L24.1571 6.40471C24.3361 6.24142 24.5587 6.13365 24.7978 6.09453C25.0369 6.05541 25.2822 6.08661 25.5039 6.18435C25.7256 6.28208 25.9141 6.44213 26.0465 6.64503C26.1789 6.84793 26.2495 7.08494 26.2496 7.32721V42.6722C26.2496 43.0037 26.1179 43.3217 25.8835 43.5561C25.6491 43.7905 25.3312 43.9222 24.9996 43.9222V43.9222ZM8.57715 29.9997H12.4996C12.8115 30 13.112 30.1168 13.3421 30.3272L23.7496 39.8272V10.1622L13.3421 19.6622C13.1135 19.8763 12.8128 19.9967 12.4996 19.9997H8.57715V29.9997Z",fill:"#574C4C"})),G||(G=r.createElement("path",{d:"M29.8508 30.6327C29.6038 30.6327 29.3623 30.5594 29.1569 30.4222C28.9514 30.285 28.7912 30.09 28.6965 29.8618C28.6019 29.6337 28.5769 29.3826 28.6248 29.1402C28.6727 28.8979 28.7914 28.6752 28.9658 28.5002C29.8928 27.5713 30.4134 26.3125 30.4134 25.0002C30.4134 23.6879 29.8928 22.4292 28.9658 21.5002C28.7381 21.2645 28.6121 20.9487 28.615 20.621C28.6178 20.2932 28.7493 19.9797 28.981 19.748C29.2128 19.5162 29.5263 19.3847 29.8541 19.3819C30.1818 19.379 30.4975 19.505 30.7333 19.7327C32.1283 21.1308 32.9118 23.0252 32.9118 25.0002C32.9118 26.9753 32.1283 28.8696 30.7333 30.2677C30.499 30.5014 30.1817 30.6326 29.8508 30.6327V30.6327Z",fill:"#574C4C"})),B||(B=r.createElement("path",{d:"M34.27 35.0522C34.0225 35.0527 33.7804 34.9796 33.5744 34.8423C33.3684 34.7049 33.2079 34.5096 33.1131 34.2809C33.0183 34.0522 32.9935 33.8005 33.0419 33.5577C33.0903 33.315 33.2098 33.092 33.385 32.9172C34.425 31.8776 35.25 30.6433 35.8128 29.2848C36.3757 27.9263 36.6654 26.4702 36.6654 24.9997C36.6654 23.5292 36.3757 22.0731 35.8128 20.7146C35.25 19.3561 34.425 18.1218 33.385 17.0822C33.2656 16.9669 33.1704 16.829 33.1049 16.6765C33.0394 16.524 33.0049 16.3599 33.0035 16.194C33.002 16.028 33.0337 15.8634 33.0965 15.7098C33.1594 15.5562 33.2522 15.4166 33.3695 15.2992C33.4869 15.1819 33.6265 15.089 33.7801 15.0262C33.9337 14.9633 34.0983 14.9317 34.2643 14.9332C34.4302 14.9346 34.5943 14.9691 34.7468 15.0346C34.8993 15.1001 35.0372 15.1953 35.1525 15.3147C36.4246 16.5865 37.4336 18.0963 38.1221 19.7581C38.8105 21.4199 39.1648 23.201 39.1648 24.9997C39.1648 26.7984 38.8105 28.5796 38.1221 30.2413C37.4336 31.9031 36.4246 33.413 35.1525 34.6847C34.9187 34.9193 34.6013 35.0515 34.27 35.0522Z",fill:"#574C4C"})),D||(D=r.createElement("path",{d:"M38.0005 38.7828C37.7535 38.7827 37.512 38.7095 37.3065 38.5723C37.1011 38.4351 36.9409 38.2401 36.8462 38.0119C36.7515 37.7837 36.7266 37.5326 36.7745 37.2903C36.8224 37.0479 36.9411 36.8252 37.1155 36.6503C40.2048 33.5603 41.9403 29.3697 41.9403 25.0003C41.9403 20.6308 40.2048 16.4403 37.1155 13.3503C36.9961 13.235 36.9009 13.097 36.8354 12.9445C36.7699 12.792 36.7354 12.628 36.7339 12.462C36.7325 12.2961 36.7641 12.1315 36.827 11.9778C36.8898 11.8242 36.9826 11.6847 37.1 11.5673C37.2174 11.4499 37.3569 11.3571 37.5106 11.2943C37.6642 11.2314 37.8288 11.1998 37.9948 11.2012C38.1607 11.2027 38.3248 11.2371 38.4773 11.3027C38.6298 11.3682 38.7677 11.4634 38.883 11.5828C40.645 13.3448 42.0428 15.4366 42.9964 17.7388C43.95 20.0409 44.4408 22.5084 44.4408 25.0003C44.4408 27.4921 43.95 29.9596 42.9964 32.2618C42.0428 34.564 40.645 36.6558 38.883 38.4178C38.6487 38.6514 38.3314 38.7827 38.0005 38.7828Z",fill:"#574C4C"})))}var Z=r.forwardRef(J),q=(a.p,{isFlippedCards:[],isDisabledCards:[],rating:[],gameStatus:O}),K=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).audio=new Audio,n.gameAudioList=[],n.guessedCardIndex=0,n.resetCardsStyles=function(){var e=n.props.categoryCardsArray;n.setState({isFlippedCards:new Array(e.length).fill(!1),isDisabledCards:new Array(e.length).fill(!1)})},n.renderCards=function(e){var t=n.state,a=t.isFlippedCards,r=t.isDisabledCards,c=n.props.gameMode;return e.map((function(e,t){return Object(R.jsx)("div",{className:"cards-page__card-container card-container",onMouseLeave:function(){return c===v?n.resetFlippedCard(t):""},role:"none",children:Object(R.jsxs)("div",{className:"cards-page__card card \n            ".concat(a[t]?"flipped":""," \n            ").concat(r[t]?"disabled":""," \n            ").concat(c===x?"play-mode":""),role:"none",children:[Object(R.jsxs)("div",{className:"cards-page__card-front card-front",onClick:function(){return c===v?n.playAudio(e.audioSrc):n.handleChosenCard(t,e)},role:"none",children:[Object(R.jsx)("div",{className:"cards-page__image",style:{backgroundImage:"url(".concat(e.image,")")}}),Object(R.jsx)("div",{className:"cards-page__card-text card-text",children:e.word})]}),Object(R.jsxs)("div",{className:"cards-page__card-back card-back",children:[Object(R.jsx)("div",{className:"cards-page__image",style:{backgroundImage:"url(".concat(e.image,")")}}),Object(R.jsx)("div",{className:"cards-page__card-text card-text",children:e.translation})]}),Object(R.jsx)("button",{className:"cards-page__rotate-btn",onClick:function(){return c===v?n.flipCard(t,e):""},type:"button","aria-label":"Show Translation",children:Object(R.jsx)(U,{})})]})},e.word)}))},n.playAudio=function(e){n.audio.currentTime=0,n.audio.src=e,n.audio.play()},n.setIsFlippedCardState=function(e,t){var a=n.state.isFlippedCards;a[e]=t,n.setState({isFlippedCards:a})},n.flipCard=function(e,t){n.setIsFlippedCardState(e,!0),n.changeCardStatisticsProperty(t,w)},n.resetFlippedCard=function(e){n.setIsFlippedCardState(e,!1)},n.startGame=function(){n.resetGame(),n.setState({gameStatus:y}),n.createRandomAudioList(),n.playAudio(n.gameAudioList[n.guessedCardIndex])},n.createRandomAudioList=function(){var e=n.props.categoryCardsArray.map((function(e){return e.audioSrc}));n.gameAudioList=e.sort((function(){return.5-Math.random()}))},n.resetGame=function(){n.setState({gameStatus:O,rating:[]}),n.guessedCardIndex=0,n.gameAudioList=[]},n.endGame=function(){var e=n.state.rating,t=n.props.onFinishGame;e.includes(!1)?setTimeout((function(){n.playAudio("audio/sounds/failure.mp3")}),500):setTimeout((function(){n.playAudio("audio/sounds/success.mp3")}),500),setTimeout((function(){n.setState({gameStatus:_})}),500),setTimeout((function(){t()}),3e3)},n.repeatCardAudio=function(){n.playAudio(n.gameAudioList[n.guessedCardIndex])},n.handleChosenCard=function(e,t){var a=n.props.categoryCardsArray,r=n.state,c=r.gameStatus,i=r.isDisabledCards;c!==y||i[e]||(a[e].audioSrc===n.gameAudioList[n.guessedCardIndex]?n.handleCorrectChoise(e,t):n.handleErrorChoise())},n.handleCorrectChoise=function(e,t){var a=n.props.categoryCardsArray,r=n.guessedCardIndex+1;n.guessedCardIndex=r,n.playAudio("audio/sounds/correct.mp3"),n.addRatingPoint(!0),n.disableCard(e),n.changeCardStatisticsProperty(t,N),n.guessedCardIndex===a.length?n.endGame():setTimeout((function(){n.playAudio(n.gameAudioList[n.guessedCardIndex])}),1e3)},n.handleErrorChoise=function(){var e=n.props.categoryCardsArray;n.playAudio("audio/sounds/error.mp3"),n.addRatingPoint(!1);var t=n.gameAudioList[n.guessedCardIndex],a=e.find((function(e){return e.audioSrc===t}));void 0!==a&&n.changeCardStatisticsProperty(a,S)},n.addRatingPoint=function(e){var t=n.state.rating;t.push(e),n.setState({rating:t})},n.disableCard=function(e){var t=n.state.isDisabledCards;t[e]=!0,n.setState({isDisabledCards:t})},n.changeCardStatisticsProperty=function(e,t){var a=n.props,r=a.statistics,c=a.onChangeStatisticsData,i=r,s=i[e.category].find((function(t){return t.word===e.word&&t.translation===e.translation}));s&&(t===N?s.rightGuessed+=1:t===S?s.errors+=1:s.trainings+=1,c(i))},n.renderRepeatBtn=function(){var e=n.props.gameMode;return Object(R.jsx)("button",{className:"cards-page__repeat-btn \n        ".concat(e===x?"":"train-mode"),onClick:n.repeatCardAudio,type:"button",children:Object(R.jsx)(Z,{})})},n.renderStartGameBtn=function(){var e=n.props.gameMode;return Object(R.jsx)("button",{className:"cards-page__start-game-btn \n        ".concat(e===x?"":"train-mode"),onClick:n.startGame,type:"button",children:"Start game"})},n.renderRatingBar=function(){var e=n.props.gameMode,t=n.state,a=t.rating,r=t.gameStatus;return Object(R.jsx)("div",{className:"cards-page__rating\n        ".concat(e===x?"":"train-mode","\n        ").concat(r===_?"end-game":""),children:a.map((function(e){return Object(R.jsx)("div",{style:{backgroundImage:"url(".concat(e?"icons/star-win.svg":"icons/star.svg",")")},className:"cards-page__rating-star"})}))})},n.state=q,n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.resetCardsStyles()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.category,n=t.gameMode;e.category!==a&&(this.resetGame(),this.resetCardsStyles()),e.gameMode===x&&n===v&&(this.resetGame(),this.resetCardsStyles())}},{key:"render",value:function(){var e=this.state,t=e.gameStatus,a=e.rating,n=this.props,r=n.category,c=n.categoryCardsArray;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"page-title",children:r}),this.renderRatingBar(),t===y?this.renderRepeatBtn():this.renderStartGameBtn(),Object(R.jsx)("ul",{className:"cards-page__container cards-page-container \n          ".concat(t===_?"hidden":""),children:this.renderCards(c)}),Object(R.jsxs)("div",{className:"cards-page__end-pop-up \n          ".concat(t===_?"":"hidden"),children:[Object(R.jsx)("img",{className:"cards-page__pop-up-img",src:"".concat(a.includes(!1)?"img/other/failure.jpg":"img/other/success.jpg"),alt:""}),Object(R.jsx)("div",{className:"cards-page__pop-up-text",children:"".concat(a.filter((function(e){return!1===e})).length," errors!")})]})]})}}]),a}(r.Component),X=(a(20),function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).renderCards=function(t){var a=e.props.onClickCategoryCard;return t.map((function(e){return Object(R.jsx)("li",{className:"main-page__card-container card-container",children:Object(R.jsx)("div",{className:"main-page__card card",children:Object(R.jsxs)("div",{className:"main-page__card-front card-front",children:[Object(R.jsx)("div",{className:"main-page__image",style:{backgroundImage:"url(".concat(e.image,")")}}),Object(R.jsx)("a",{className:"main-page__card-link",href:"#/".concat(e.name),onClick:function(){return a(e.name)},children:Object(R.jsx)("div",{className:"main-page__card-text card-text",children:e.name})})]})})},e.name)}))},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props.categories;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h2",{className:"page-title",children:"Main Page"}),Object(R.jsx)("ul",{className:"main-page__container cards-page-container",children:this.renderCards(e)})]})}}]),a}(r.Component)),Q=(a(21),function(e){var t=e.activeRout,a=e.isHiddenNavMenu,n=e.categories,r=function(a){return Object(R.jsx)("li",{className:"sidebar__nav-item ".concat(a===t?"active":""),children:Object(R.jsx)("a",{onClick:function(){e.onClickNavItem(a)},href:"#/".concat(a),children:a})},a)};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"page-cover ".concat(a?"hidden":""),onClick:function(){e.onClickPageCover()},role:"none"}),Object(R.jsxs)("ul",{className:"sidebar__nav-menu ".concat(a?"hidden":""),children:[r(b),r(j),n.map((function(e){return r(e.name)})),Object(R.jsx)("li",{children:Object(R.jsx)("button",{className:"log-in-btn",onClick:function(){e.onClickLogIn()},type:"button",children:"Log in"})})]})]})}),Y=(a(22),function(e){return Object(R.jsxs)("div",{className:"pop-up autorization-pop-up",children:[Object(R.jsx)("h3",{className:"pop-up__title",children:"Login"}),Object(R.jsxs)("form",{className:"autorization-form",children:[Object(R.jsx)("input",{type:"text",className:"form__input",placeholder:"login",autoComplete:"off"}),Object(R.jsx)("input",{type:"password",className:"form__input",placeholder:"password",autoComplete:"off"}),Object(R.jsxs)("div",{className:"pop-up__btn-container",children:[Object(R.jsx)("button",{className:"pop-up__btn cancel-btn",onClick:function(){e.onClickCancelBtn()},type:"button",children:"cancel"}),Object(R.jsx)("a",{className:"pop-up__btn submit-btn",onClick:function(){e.onClickSubmitBtn()},href:"#/".concat(C),children:"submit"})]})]})]})}),$=(a(23),{isDescendingSort:!0,property:"category"}),ee=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getPersentGuessed=function(e){return Math.round(100*e.rightGuessed/(e.errors+e.rightGuessed))||0},n.getCardsStatisticsArray=function(){var e=n.props.statistics;return Object.values(e).map((function(e){return[e.map((function(e){return e}))]})).flat(2)},n.getSortedStatistics=function(e,t){return e.sort((function(e,a){return"percentGuessed"===t?n.getPersentGuessed(e)>n.getPersentGuessed(a)?1:-1:e[t]>a[t]?1:-1}))},n.getStatisticsView=function(e){return e.map((function(e,t){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:t+1}),Object(R.jsx)("td",{children:e.category}),Object(R.jsx)("td",{children:e.word}),Object(R.jsx)("td",{children:e.translation}),Object(R.jsx)("td",{children:e.trainings}),Object(R.jsx)("td",{children:e.errors}),Object(R.jsx)("td",{children:e.rightGuessed}),Object(R.jsx)("td",{children:n.getPersentGuessed(e)})]})}))},n.changeSortState=function(e){var t=n.state.isDescendingSort;n.setState({property:e}),n.setState({isDescendingSort:!t})},n.getCardsToRepeat=function(){var e=n.getCardsStatisticsArray();return n.getSortedStatistics(e,"percentGuessed")},n.renderStatisticsTable=function(){var e=n.state,t=e.property,a=e.isDescendingSort,r=n.getCardsStatisticsArray(),c=n.getSortedStatistics(r,t),i=a?c:c.reverse();return n.getStatisticsView(i)},n.renderStatisticsBtns=function(){var e=n.props,t=e.onResetStatistics,a=e.onRepeatWords;return Object(R.jsxs)("div",{className:"statistics__btn-container",children:[Object(R.jsx)("button",{className:"statistics__repeat-btn",onClick:function(){return a(n.getCardsToRepeat())},type:"button",children:"Repeat difficult words"}),Object(R.jsx)("button",{className:"statistics__reset-btn",onClick:function(){return t()},type:"button",children:"Reset statistics"})]})},n.state=$,n}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=this.state.property;return Object(R.jsxs)("div",{className:"statistics-page",children:[Object(R.jsx)("h2",{className:"page-title",children:"Statistics"}),this.renderStatisticsBtns(),Object(R.jsxs)("table",{className:"statistics__table",children:[Object(R.jsxs)("tr",{className:"statistics__table-header",children:[Object(R.jsx)("th",{children:"\u2116"}),k.map((function(a,n){return Object(R.jsx)("th",{children:Object(R.jsxs)("button",{className:"table-header-btn ".concat(t===A[n]?"active":""),onClick:function(){return e.changeSortState(A[n])},type:"button",children:[a,Object(R.jsx)("div",{className:"table-header-indicator"})]})})}))]}),this.renderStatisticsTable()]})]})}}]),a}(r.Component),te=(a(24),function(e){return Object(R.jsx)("div",{className:"switcher-container",children:Object(R.jsxs)("label",{className:"switcher-label",htmlFor:"game-mode",children:[Object(R.jsx)("input",{className:"switcher-input",id:"game-mode",type:"checkbox",onClick:function(){e.onClick()}}),Object(R.jsx)("span",{className:"switcher-text","data-on":"play","data-off":"train"})]})})}),ae="https://lit-atoll-83744.herokuapp.com",ne="categoriesCards",re="words",ce=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ae,"/").concat(ne));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ae,"/").concat(ne,"/").concat(t),{method:"DELETE"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,fetch("".concat(ae,"/").concat(ne),{method:"POST",mode:"cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ae,"/").concat(ne,"/").concat(t),{method:"PATCH",mode:"cors",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,fetch("".concat(ae,"/").concat(ne,"/").concat(re,"/").concat(t),{method:"POST",mode:"cors",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ae,"/").concat(ne,"/").concat(re,"/").concat(a),{method:"DELETE",body:t,headers:{"Content-Type":"text/html"}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),le=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCardsInfoState();case 2:n.setStatisticsState();case 3:case"end":return e.stop()}}),e)}))),n.getCardsInfoState=Object(l.a)(u.a.mark((function e(){var t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:t=e.sent,a=t.map((function(e){return{name:e.category,image:e.categoryImage}})),r=Object.fromEntries(t.map((function(e){var t=e.cards.map((function(t){return Object.assign(t,{category:e.category})}));return[[e.category],t]}))),n.setState({cards:r,categories:a});case 6:case"end":return e.stop()}}),e)}))),n.deleteCategory=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:return e.next=4,n.getCardsInfoState();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createCategory=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:return e.next=4,n.getCardsInfoState();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateCategory=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t,a);case 2:return e.next=4,n.getCardsInfoState();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.deleteWord=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t,a);case 2:return e.next=4,n.getCardsInfoState();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.createWord=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t,a);case 2:return e.next=4,n.getCardsInfoState();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.setStatisticsState=function(){var e=n.getDefaultStatistics();if(localStorage.getItem(h)){var t=JSON.parse(localStorage.getItem(h)||"");n.setState({statistics:t})}else n.setState({statistics:e})},n.getDefaultStatistics=function(){var e=n.state.cards;return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return[a,n.map((function(e){return{category:a,word:e.word,translation:e.translation,trainings:0,errors:0,rightGuessed:0}}))]})))},n.resetStatistics=function(){var e=n.getDefaultStatistics();n.updateStatistics(e)},n.updateStatistics=function(e){var t=JSON.stringify(e);localStorage.setItem(h,t),n.setState({statistics:e})},n.toggleNavMenu=function(){n.state.isHiddenNavMenu?n.setState({isHiddenNavMenu:!1}):n.resetPopUpElements()},n.toggleAutorization=function(){var e=n.state.isOpenAutorizationPopUp;n.setState({isOpenAutorizationPopUp:!e})},n.resetPopUpElements=function(){n.setState({isOpenAutorizationPopUp:!1}),n.setState({isHiddenNavMenu:!0})},n.handleAutorization=function(){n.resetPopUpElements(),n.enableAdminMode()},n.enableAdminMode=function(){n.setState({isAdminMode:!0}),n.setActiveRoute(C)},n.disableAdminMode=function(){n.setState({isAdminMode:!1}),n.setActiveRoute(j)},n.setActiveRoute=function(e){n.setState({activeRoute:e})},n.changeAppMode=function(){n.state.gameMode===v?n.setState({gameMode:x}):n.setState({gameMode:v})},n.setRepeatCardsList=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.cards,(r=t.map((function(e){return a[e.category].find((function(t){return e.word===t.word&&0!==e.errors}))})).filter((function(e){return e})).slice(0,8)).length?(n.setState({cardsListToRepeat:r}),n.setState({activeRoute:"Repeat difficult words"})):alert("There are no words to repeat!");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.resetRepeatMode=function(){n.setState({cardsListToRepeat:[]})},n.renderRoutePage=function(){var e=n.state,t=e.activeRoute,a=e.gameMode,r=e.statistics,c=e.cards,i=e.categories,s=e.cardsListToRepeat;return t===j?Object(R.jsx)(X,{onClickCategoryCard:function(e){n.setActiveRoute(e),s.length&&n.resetRepeatMode()},categories:i}):t===b?Object(R.jsx)(ee,{statistics:r,onResetStatistics:n.resetStatistics,onRepeatWords:function(e){n.setRepeatCardsList(e)}}):t===C?Object(R.jsx)(P,{cards:c,categories:i,disableAdminMode:n.disableAdminMode,onDeleteCategory:function(e){return n.deleteCategory(e)},onCreateCategory:function(e){return n.createCategory(e)},onUpdateCategory:function(e,t){return n.updateCategory(e,t)},onDeleteWord:function(e,t){return n.deleteWord(e,t)},onCreateWord:function(e,t){return n.createWord(e,t)}}):Object(R.jsx)(K,{category:t,gameMode:a,onFinishGame:function(){n.setActiveRoute(j),s.length&&n.resetRepeatMode()},statistics:r,onChangeStatisticsData:function(e){return n.updateStatistics(e)},categoryCardsArray:s.length?s:c[t]})},n.renderHeader=function(){var e=n.state.isHiddenNavMenu;return Object(R.jsx)("header",{className:"header",children:Object(R.jsxs)("div",{className:"header__container",children:[Object(R.jsx)("button",{className:"burger-btn ".concat(e?"":"active"),onClick:n.toggleNavMenu,type:"button",children:Object(R.jsx)("span",{})}),Object(R.jsx)(te,{onClick:n.changeAppMode})]})})},n.renderNavMenu=function(){var e=n.state,t=e.isHiddenNavMenu,a=e.activeRoute,r=e.categories,c=e.cardsListToRepeat;return Object(R.jsx)(Q,{isHiddenNavMenu:t,onClickNavItem:function(e){n.setActiveRoute(e),n.toggleNavMenu(),c.length&&n.resetRepeatMode()},onClickPageCover:n.toggleNavMenu,onClickLogIn:n.toggleAutorization,activeRout:a,categories:r})},n.renderFooter=function(){return Object(R.jsx)("footer",{className:"footer",children:Object(R.jsxs)("div",{className:"footer-container",children:[Object(R.jsx)("a",{className:"github",href:"https://github.com/VitaliKlm",target:"_blank",rel:"noopener noreferrer",children:"github"}),Object(R.jsx)("a",{className:"rss",href:"https://rs.school/js/",target:"_blank",rel:"noopener noreferrer",children:Object(R.jsx)("span",{className:"rss-year",children:"'21"})})]})})},n.state={isHiddenNavMenu:!0,isOpenAutorizationPopUp:!1,isAdminMode:!1,gameMode:v,activeRoute:j,categories:[],statistics:{default:[]},cards:{default:[]},cardsListToRepeat:[]},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isOpenAutorizationPopUp,a=e.isAdminMode;return Object(R.jsxs)(R.Fragment,{children:[a?"":this.renderHeader(),this.renderNavMenu(),this.renderRoutePage(),t?Object(R.jsx)(Y,{onClickCancelBtn:this.resetPopUpElements,onClickSubmitBtn:this.handleAutorization}):"",this.renderFooter()]})}}]),a}(r.Component);a(25);s.a.render(Object(R.jsx)(le,{}),document.body.querySelector(".app"))}],[[26,1,2]]]);
//# sourceMappingURL=main.827de0f7.chunk.js.map